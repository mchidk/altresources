@import 'compass/css3/inline-block';
@import 'compass/css3/border-radius';
@import 'includes/global';
@import 'includes/colors';

body.admin {
  .email-wrapper .nested-associations div.field.checkbox {
    display: block;
  }
}

.controller-profiles {
  .nested-associations {
    border: none;
    padding: 0;
    .nested-association {
      width: 40%;
    }
  }
}

fieldset.contact-contact-fields fieldset {
  border: 0px dashed $global-border-color-1;
  border-bottom-width: 1px;

  legend {
    padding: 0;
    margin: 0;
  }
}

.contact-contact-fields fieldset.nested-associations {
  padding: 0 0 $global-spacing-margin;
}

fieldset.nested-associations {
  .nested-association {
    $padding: 8px;
    $destroy-icon-size: 16px;
    border: $global-border-style-2;
    @include border-radius(4px);
    margin: 0 5px 5px 0;
    padding: $padding ($padding * 2 + $destroy-icon-size) $padding $padding;
    display: block;
    width: 28%;
    float: left;
    display: inline;
    position: relative;

    .add-nested-association, .destroy-nested-association {
      cursor: pointer;
    }

    .field { 
      margin: 0;
      padding: 0;
    }
    .field + .field {
      margin-top: $padding;
    }

    .destroy-nested-association {
      /*background: url(/images/buttons/layer_close.png);*/
      /*text-indent: -999em;*/
      /*border: $global-border-style-1;*/
      position: absolute;
      right: $padding;
      top: $padding;
      height: $destroy-icon-size;
      width: $destroy-icon-size;
      display: block;
    }

    .input, input, select, textarea {
      margin: 0;
      width: 100%;
    }

    // hack to handle the text node styling of unchangeable contact emails
    .contact-email {
      padding: 0.4em;
      @extend .input;
      margin-top: $padding !important;
      height: 28px;
      input {
        padding: 0;
        border: none;
      }
    }

    textarea {
      height: 100px;
    }
  }  
}

.event.template-show .nested-associations {
  .nested-association {
    width: 95% !important;
  }
}

#event_transaction_form .nested-association[style="visibility: visible;"] {
  border-top: 1px #bbb dashed; 
}
